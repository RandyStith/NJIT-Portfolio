<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link  rel="stylesheet" href="desktop.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">
  </head>
  <body style="background-color: #4c9289;">

    <div id="movingBox"></div>

    <script>
      const box = document.getElementById('movingBox');
      let position = {
          x: parseInt(localStorage.getItem('boxPositionX')) || 0,
          y: parseInt(localStorage.getItem('boxPositionY')) || 50 // Initial vertical position
      };

      // Velocity variables
      let velocity = {
          x: 0,
          y: 0
      };

      let gravity = 0.5; // Gravity acceleration
      let jumpStrength = 10; // Jump velocity
      let isJumping = false; // Track if the box is currently jumping

      // Function to move the box
      const moveBox = (direction) => {
          if (direction === 'right') {
              velocity.x = 5; // Set right velocity
          } else if (direction === 'left') {
              velocity.x = -5; // Set left velocity
          } else if (direction === 'up') {
              if (!isJumping) {
                  velocity.y = -jumpStrength; // Set upward velocity for the jump
                  isJumping = true; // Set jumping state
              }
          } else if (direction === 'down') {
              velocity.y += 5; // Increase downward velocity
          }
      };

      // Function to apply gravity and update position
      const applyPhysics = () => {
          // Apply gravity
          if (isJumping) {
              position.y += velocity.y; // Update vertical position based on velocity
              velocity.y += gravity; // Increase downward velocity due to gravity

              // Check for bottom boundary collision
              if (position.y + 50 >= window.innerHeight) { // 50 is the height of the box
                  position.y = window.innerHeight - 50; // Reset position to the bottom
                  velocity.y = 0; // Reset vertical velocity
                  isJumping = false; // Reset jumping state
              }
          } else {
              velocity.y += gravity; // Increase velocity due to gravity
              position.y += velocity.y; // Update vertical position

              // Check for bottom boundary collision
              if (position.y + 50 >= window.innerHeight) {
                  position.y = window.innerHeight - 50; // Reset position to the bottom
                  velocity.y = 0; // Reset vertical velocity
              }
          }

          // Apply horizontal movement
          position.x += velocity.x;

          // Keep the box within the window boundaries
          position.x = Math.max(0, Math.min(position.x, window.innerWidth - 50));

          // Apply the position to the box
          box.style.left = position.x + 'px';
          box.style.top = position.y + 'px';

          // Save the position to localStorage
          localStorage.setItem('boxPositionX', position.x);
          localStorage.setItem('boxPositionY', position.y);

          requestAnimationFrame(applyPhysics); // Continue the physics application
      };

      // Initialize the box position on load
      box.style.left = position.x + 'px';
      box.style.top = position.y + 'px';

      // Start the physics effect
      applyPhysics();

      // Event listener for keydown events
      document.addEventListener('keydown', (event) => {
          if (event.key === 'ArrowRight') {
              moveBox('right');
          } else if (event.key === 'ArrowLeft') {
              moveBox('left');
          } else if (event.key === 'ArrowUp' || event.key === ' ') { // Jump with up arrow or space
              moveBox('up');
          } else if (event.key === 'ArrowDown') {
              moveBox('down');
          }
      });
  </script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="script.js"></script>
  </body>
</html>